# 多租户
多租户技术是一种软件架构技术，可实现用一套应用程序，为多个企业用户提供SaaS服务并确保数据的<font color=red>完全隔离性</font>。

## 实现方案
**SQL多租户：**

|数据库级别	|隔离方式										|推荐实现方式									|隔离安全级别	|维护成本			|
|--			|--												|--												|--				|--					|
|行级		|表中`tenant_xx`租户字段隔离，操作时进行判断区分	|CRM框架提供SQL改写，操作时自动添加租户条件		|低				|低					|
|表级		|表中`tenant_xx`租户字段隔离，将不同租户分表存储	|ShardingJDBC分表，操作时自动改写SQL路由		|一般			|一般				|
|库级		|数据源中租户配置隔离，独立数据库				|使用动态数据源，推荐将数据库配置信息存入配置表	|高				|高					|
|实例级		|数据源中租户配置隔离，独立实例					|使用动态数据源，推荐将数据库配置信息存入配置表	|超高			|推荐以私有云代替	|

**NoSQL多租户：**

|NoSQL数据库	|行级		|表级		|库级							|实例级								|
|--				|--			|--			|--								|--									|
|Redis			|无需处理	|无需处理	|动态数据源，db区分				|动态数据源，独立实例区分			|
|ClickHouse		|无需处理	|无需处理	|动态数据源，db区分				|动态数据源，独立实例区分			|
|Elasticsearch	|无需处理	|无需处理	|动态数据源，独立实例区分		|动态数据源，独立实例区分			|
|OSS			|无需处理	|无需处理	|动态数据源，存储空间（Bucket）	|动态数据源，访问域名（Endpoint）	|

**多级租户区分：**

|租户类型					|作用范围										|解释										|
|--							|--												|--											|
|系统租户（`tenant_sys`）	|仅适用于中台模式，中台需对业务系统提供租户区分	|如：中台需对阿里云、淘宝、菜鸟物流的数据进行区分	|
|企业租户（`tenant_co`）	    |仅适用于SaaS服务模式下，对企业租户进行隔离区分	|如：阿里云需对企业租户进行隔离区分			|

## QA
**Q：**
**A：**

**Q：**
**A：**

**Q：**
**A：**

cicd测试